<div class="row justify-content-around mt-3">
    <div class="col-md-6 col-12 card m-3">
    <h4>{{ 'USER_SECURITY' | translate }}</h4>
    <hr>
    <p><small>{{ 'CHANGE_PASSWORD_TEXT' | translate }}.</small></p>
    <form [formGroup]="userSecurityForm" class="row mb-5">   
        <div class="col-12">
            <mat-form-field class="col-12 col-md-12">
                <input matInput type="email" placeholder="{{ 'EMAIL_OR_PHONE_TEXT' | translate }}" formControlName="email_or_phone" required>    
                <mat-error *ngIf="emailOrphone.invalid">
                    <p><span [innerHTML]="'INVALID_EMAIL_FIELD_TEXT' | translate"></span></p>
                </mat-error>                                
            </mat-form-field>
    
            <mat-form-field class="col-12 col-md-12" *ngIf="codePin">
                <input matInput type="text" placeholder="Code" formControlName="code" required>    
                <mat-error *ngIf="codePin && !userSecurityForm.value.code">
                    <p> <span [innerHTML]="'CODE_REQUIRED_FIELD_TEXT' | translate"></span></p>
                </mat-error>                                
            </mat-form-field>
    
            <div class="w-100"></div>
    
            <mat-form-field class="col-12 col-md-6" *ngIf="codePin">
                <input matInput type="password" placeholder="{{ 'PASSWORD_TEXT' | translate }}" formControlName="password">    
                <mat-error *ngIf="password.dirty && !userSecurityForm.value.password">
                    <p [innerHTML]="'PASS_REQUIRED_FIELD_TEXT' | translate"></p>
                </mat-error>                                
            </mat-form-field>
    
            <mat-form-field class="col-12 col-md-6" *ngIf="codePin">
                <input matInput type="password" placeholder="{{ 'FORM_CONFIRM_PASSWORD' | translate }}" formControlName="confirmPassword">    
                <mat-error *ngIf="confirmPassword.dirty && userSecurityForm.value.password !== userSecurityForm.value.confirmPassword">
                    <p [innerHTML]="'CON_PASS_REQUIRED_FIELD_TEXT' | translate"></p>
                </mat-error>                                
            </mat-form-field>
    
            <div class="col-12 mt-3 text-right button-area">
                <button mat-stroked-button class="mr-2" (click)="cancel()" >{{ 'CANCEL_TEXT' | translate }}</button>
                <button mat-stroked-button (click)="updatePassword()" [disabled]="loading || userSecurityForm.invalid || (codePin && (!userSecurityForm.value.code || !userSecurityForm.value.password || !userSecurityForm.value.confirmPassword))" class="btn-share">{{ 'NEXT_TEXT' | translate }}</button>
                <img *ngIf="loading" class="pl-2" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" /> 
            </div>
        </div>
    </form>
    </div>
    </div>
